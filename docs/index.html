<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>
        Crafting Calculator
    </title>
    <meta content="Crafting Calculator" property="og:title" />
    <meta content="Crafting calculator for Genshin Impact" property="og:description" />
    <meta content="website" property="og:type" />
    <meta content="https://static.wikia.nocookie.net/gensin-impact/images/6/69/Splashscreen_Windblume%27s_Breath.png"
        property="og:image" />
    <meta content="https://remls.github.io/CraftingCalculator" property="og:url" />
    <meta content="https://static.wikia.nocookie.net/gensin-impact/images/6/69/Splashscreen_Windblume%27s_Breath.png"
        name="twitter:card" />
    <link href="assets/styles.css" rel="stylesheet" />
    <script defer src="https://cdn.jsdelivr.net/npm/@alpinejs/persist@3.10.5/dist/cdn.min.js"></script>
    <script defer src="https://unpkg.com/alpinejs@3.10.5/dist/cdn.min.js"></script>
    <script src="assets/scripts.js"></script>
    </meta>
</head>

<body x-data="craftData" x-init="updateCalculations">
    <table>
        <tr>
            <th></th>
            <th>Have</th>
            <th>Need</th>
        </tr>
        <tr>
            <th>★★★★★</th>
            <td>
                <input tabindex="1" type="number" value="0" @focus="clearValueIfZero" @blur="updateCalculations"
                    x-model="have.five" :class="{ 'zero': !have.five }" />
            </td>
            <td>
                <input tabindex="11" type="number" value="0" @focus="clearValueIfZero" @blur="updateCalculations"
                    x-model="need.five" :class="{ 'zero': !need.five }" />
            </td>
        </tr>
        <tr>
            <th>★★★★</th>
            <td>
                <input tabindex="2" type="number" value="0" @focus="clearValueIfZero" @blur="updateCalculations"
                    x-model="have.four" :class="{ 'zero': !have.four }" />
            </td>
            <td>
                <input tabindex="12" type="number" value="0" @focus="clearValueIfZero" @blur="updateCalculations"
                    x-model="need.four" :class="{ 'zero': !need.four }" />
            </td>
        </tr>
        <tr>
            <th>★★★</th>
            <td>
                <input tabindex="3" type="number" value="0" @focus="clearValueIfZero" @blur="updateCalculations"
                    x-model="have.three" :class="{ 'zero': !have.three }" />
            </td>
            <td>
                <input tabindex="13" type="number" value="0" @focus="clearValueIfZero" @blur="updateCalculations"
                    x-model="need.three" :class="{ 'zero': !need.three }" />
            </td>
        </tr>
        <tr>
            <th>★★</th>
            <td>
                <input tabindex="4" type="number" value="0" @focus="clearValueIfZero" @blur="updateCalculations"
                    x-model="have.two" :class="{ 'zero': !have.two }" />
            </td>
            <td>
                <input tabindex="14" type="number" value="0" @focus="clearValueIfZero" @blur="updateCalculations"
                    x-model="need.two" :class="{ 'zero': !need.two }" />
            </td>
        </tr>
        <tr>
            <th>★</th>
            <td>
                <input tabindex="5" type="number" value="0" @focus="clearValueIfZero" @blur="updateCalculations"
                    x-model="have.one" :class="{ 'zero': !have.one }" />
            </td>
            <td>
                <input tabindex="15" type="number" value="0" @focus="clearValueIfZero" @blur="updateCalculations"
                    x-model="need.one" :class="{ 'zero': !need.one }" />
            </td>
        </tr>
        <tr>
            <th></th>
            <td>
                <div class="reset-button-container">
                    <button tabindex="6" class="reset-button" @click="reset('have')">Reset</button>
                </div>
            </td>
            <td>
                <div class="reset-button-container">
                    <button tabindex="16" class="reset-button" @click="reset('need')">Reset</button>
                </div>
            </td>
        </tr>

        <tr>
            <th>Progress</th>
            <td colspan="2">
                <progress value="0" max="100" x-model="percent" :class="{ 'full': percent >= 100 }"></progress>
                <br />
                <span x-text="haveSimplified"></span> / <span x-text="needSimplified"></span>
                <template x-if="diffSimplified > 0">
                    <span>
                        (<span x-text="diffSimplified"></span> remaining)
                    </span>
                </template>
                <br />
                <span x-text="percentText"></span>
            </td>
        </tr>
    </table>

    <section>
        <h2>Presets</h2>

        <h3>Character ascension</h3>
        <div class="preset-button-group">
            <button class="preset-button" @click="loadPreset(6, 9, 9, 1, 0)">
                <div class="images">
                    <img src="assets/images/gemstone-5.png">
                    <img src="assets/images/gemstone-4.png">
                    <img src="assets/images/gemstone-3.png">
                    <img src="assets/images/gemstone-2.png">
                    <img src="assets/images/none.png">
                </div>
                Gemstones
            </button>
            <button class="preset-button" @click="loadPreset(0, 0, 36, 30, 18)">
                <div class="images">
                    <img src="assets/images/none.png">
                    <img src="assets/images/none.png">
                    <img src="assets/images/mob-drop-3.png">
                    <img src="assets/images/mob-drop-2.png">
                    <img src="assets/images/mob-drop-1.png">
                </div>
                Mob drops
            </button>
        </div>

        <h3>Talents</h3>
        <div class="preset-button-group">
            <button class="preset-button" @click="loadPreset(0, 38, 21, 3, 0)">
                <div class="images">
                    <img src="assets/images/none.png">
                    <img src="assets/images/talent-book-4.png">
                    <img src="assets/images/talent-book-3.png">
                    <img src="assets/images/talent-book-2.png">
                    <img src="assets/images/none.png">
                </div>
                Talent books (1 talent)
            </button>
            <button class="preset-button" @click="loadPreset(0, 0, 31, 22, 6)">
                <div class="images">
                    <img src="assets/images/none.png">
                    <img src="assets/images/none.png">
                    <img src="assets/images/mob-drop-3.png">
                    <img src="assets/images/mob-drop-2.png">
                    <img src="assets/images/mob-drop-1.png">
                </div>
                Mob drops (1 talent)
            </button>
            <button class="preset-button" @click="loadPreset(0, 76, 42, 6, 0)">
                <div class="images">
                    <img src="assets/images/none.png">
                    <img src="assets/images/talent-book-4.png">
                    <img src="assets/images/talent-book-3.png">
                    <img src="assets/images/talent-book-2.png">
                    <img src="assets/images/none.png">
                </div>
                Talent books (2 talents)
            </button>
            <button class="preset-button" @click="loadPreset(0, 0, 62, 44, 12)">
                <div class="images">
                    <img src="assets/images/none.png">
                    <img src="assets/images/none.png">
                    <img src="assets/images/mob-drop-3.png">
                    <img src="assets/images/mob-drop-2.png">
                    <img src="assets/images/mob-drop-1.png">
                </div>
                Mob drops (2 talents)
            </button>
            <button class="preset-button" @click="loadPreset(0, 114, 63, 9, 0)">
                <div class="images">
                    <img src="assets/images/none.png">
                    <img src="assets/images/talent-book-4.png">
                    <img src="assets/images/talent-book-3.png">
                    <img src="assets/images/talent-book-2.png">
                    <img src="assets/images/none.png">
                </div>
                Talent books (3 talents)
            </button>
            <button class="preset-button" @click="loadPreset(0, 0, 93, 66, 18)">
                <div class="images">
                    <img src="assets/images/none.png">
                    <img src="assets/images/none.png">
                    <img src="assets/images/mob-drop-3.png">
                    <img src="assets/images/mob-drop-2.png">
                    <img src="assets/images/mob-drop-1.png">
                </div>
                Mob drops (3 talents)
            </button>
        </div>

        <h3>5★ weapon ascension</h3>
        <div class="preset-button-group">
            <button class="preset-button" @click="loadPreset(6, 14, 14, 5, 0)">
                <div class="images">
                    <img src="assets/images/weapon-domain-drop-5.png">
                    <img src="assets/images/weapon-domain-drop-4.png">
                    <img src="assets/images/weapon-domain-drop-3.png">
                    <img src="assets/images/weapon-domain-drop-2.png">
                    <img src="assets/images/none.png">
                </div>
                Weapon domain drops
            </button>
            <button class="preset-button" @click="loadPreset(0, 41, 27, 23, 0)">
                <div class="images">
                    <img src="assets/images/none.png">
                    <img src="assets/images/elite-mob-drop-4.png">
                    <img src="assets/images/elite-mob-drop-3.png">
                    <img src="assets/images/elite-mob-drop-2.png">
                    <img src="assets/images/none.png">
                </div>
                Elite mob drops
            </button>
            <button class="preset-button" @click="loadPreset(0, 0, 27, 23, 15)">
                <div class="images">
                    <img src="assets/images/none.png">
                    <img src="assets/images/none.png">
                    <img src="assets/images/mob-drop-3.png">
                    <img src="assets/images/mob-drop-2.png">
                    <img src="assets/images/mob-drop-1.png">
                </div>
                Mob drops
            </button>
        </div>

        <h3>4★ weapon ascension</h3>
        <div class="preset-button-group">
            <button class="preset-button" @click="loadPreset(4, 9, 9, 3, 0)">
                <div class="images">
                    <img src="assets/images/weapon-domain-drop-5.png">
                    <img src="assets/images/weapon-domain-drop-4.png">
                    <img src="assets/images/weapon-domain-drop-3.png">
                    <img src="assets/images/weapon-domain-drop-2.png">
                    <img src="assets/images/none.png">
                </div>
                Weapon domain drops
            </button>
            <button class="preset-button" @click="loadPreset(0, 27, 18, 15, 0)">
                <div class="images">
                    <img src="assets/images/none.png">
                    <img src="assets/images/elite-mob-drop-4.png">
                    <img src="assets/images/elite-mob-drop-3.png">
                    <img src="assets/images/elite-mob-drop-2.png">
                    <img src="assets/images/none.png">
                </div>
                Elite mob drops
            </button>
            <button class="preset-button" @click="loadPreset(0, 0, 18, 15, 10)">
                <div class="images">
                    <img src="assets/images/none.png">
                    <img src="assets/images/none.png">
                    <img src="assets/images/mob-drop-3.png">
                    <img src="assets/images/mob-drop-2.png">
                    <img src="assets/images/mob-drop-1.png">
                </div>
                Mob drops
            </button>
        </div>
    </section>

    <section>
        <div style="display: flex; justify-content: center; margin-top: 2rem;">
            <button class="reset-button" @click="fullReset">Full Reset</button>
        </div>
    </section>
</body>

</html>