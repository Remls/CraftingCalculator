(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function K(){}function fn(t,e){for(const n in e)t[n]=e[n];return t}function tn(t){return t()}function Ot(){return Object.create(null)}function se(t){t.forEach(tn)}function nn(t){return typeof t=="function"}function Y(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Ge;function Ye(t,e){return Ge||(Ge=document.createElement("a")),Ge.href=e,t===Ge.href}function _n(t){return Object.keys(t).length===0}function pn(t,...e){if(t==null)return K;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function ne(t,e,n){t.$$.on_destroy.push(pn(e,n))}function st(t,e,n,l){if(t){const s=sn(t,e,n,l);return t[0](s)}}function sn(t,e,n,l){return t[1]&&l?fn(n.ctx.slice(),t[1](l(e))):n.ctx}function lt(t,e,n,l){if(t[2]&&l){const s=t[2](l(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const o=[],r=Math.max(e.dirty.length,s.length);for(let i=0;i<r;i+=1)o[i]=e.dirty[i]|s[i];return o}return e.dirty|s}return e.dirty}function ot(t,e,n,l,s,o){if(s){const r=sn(e,n,l,o);t.p(r,s)}}function rt(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let l=0;l<n;l++)e[l]=-1;return e}return-1}function dn(t){const e={};for(const n in t)e[n]=!0;return e}function hn(t,e,n){return t.set(n),e}function f(t,e){t.appendChild(e)}function C(t,e,n){t.insertBefore(e,n||null)}function M(t){t.parentNode&&t.parentNode.removeChild(t)}function _e(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function m(t){return document.createElement(t)}function R(t){return document.createTextNode(t)}function S(){return R(" ")}function gn(){return R("")}function V(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function y(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function qe(t){return t===""?null:+t}function mn(t){return Array.from(t.childNodes)}function X(t,e){e=""+e,t.data!==e&&(t.data=e)}function De(t,e){t.value=e??""}function bn(t,e,n,l){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,l?"important":"")}function Ee(t,e,n){t.classList[n?"add":"remove"](e)}let it;function Pe(t){it=t}function ut(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(l=>l.call(this,e))}const ke=[],Ke=[];let Ae=[];const xe=[],vn=Promise.resolve();let et=!1;function $n(){et||(et=!0,vn.then(ln))}function tt(t){Ae.push(t)}function St(t){xe.push(t)}const Qe=new Set;let we=0;function ln(){if(we!==0)return;const t=it;do{try{for(;we<ke.length;){const e=ke[we];we++,Pe(e),wn(e.$$)}}catch(e){throw ke.length=0,we=0,e}for(Pe(null),ke.length=0,we=0;Ke.length;)Ke.pop()();for(let e=0;e<Ae.length;e+=1){const n=Ae[e];Qe.has(n)||(Qe.add(n),n())}Ae.length=0}while(ke.length);for(;xe.length;)xe.pop()();et=!1,Qe.clear(),Pe(t)}function wn(t){if(t.fragment!==null){t.update(),se(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(tt)}}function yn(t){const e=[],n=[];Ae.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),Ae=e}const Ie=new Set;let pe;function ce(){pe={r:0,c:[],p:pe}}function fe(){pe.r||se(pe.c),pe=pe.p}function O(t,e){t&&t.i&&(Ie.delete(t),t.i(e))}function B(t,e,n,l){if(t&&t.o){if(Ie.has(t))return;Ie.add(t),pe.c.push(()=>{Ie.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}function kn(t,e){B(t,1,1,()=>{e.delete(t.key)})}function Dn(t,e,n,l,s,o,r,i,a,c,D,v){let $=t.length,b=o.length,d=$;const w={};for(;d--;)w[t[d].key]=d;const h=[],g=new Map,k=new Map,q=[];for(d=b;d--;){const P=v(s,o,d),Q=n(P);let U=r.get(Q);U?l&&q.push(()=>U.p(P,e)):(U=c(Q,P),U.c()),g.set(Q,h[d]=U),Q in w&&k.set(Q,Math.abs(d-w[Q]))}const J=new Set,x=new Set;function A(P){O(P,1),P.m(i,D),r.set(P.key,P),D=P.first,b--}for(;$&&b;){const P=h[b-1],Q=t[$-1],U=P.key,le=Q.key;P===Q?(D=P.first,$--,b--):g.has(le)?!r.has(U)||J.has(U)?A(P):x.has(le)?$--:k.get(U)>k.get(le)?(x.add(U),A(P)):(J.add(le),$--):(a(Q,r),$--)}for(;$--;){const P=t[$];g.has(P.key)||a(P,r)}for(;b;)A(h[b-1]);return se(q),h}function At(t,e,n){const l=t.$$.props[e];l!==void 0&&(t.$$.bound[l]=n,n(t.$$.ctx[l]))}function H(t){t&&t.c()}function z(t,e,n,l){const{fragment:s,after_update:o}=t.$$;s&&s.m(e,n),l||tt(()=>{const r=t.$$.on_mount.map(tn).filter(nn);t.$$.on_destroy?t.$$.on_destroy.push(...r):se(r),t.$$.on_mount=[]}),o.forEach(tt)}function F(t,e){const n=t.$$;n.fragment!==null&&(yn(n.after_update),se(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function On(t,e){t.$$.dirty[0]===-1&&(ke.push(t),$n(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ee(t,e,n,l,s,o,r,i=[-1]){const a=it;Pe(t);const c=t.$$={fragment:null,ctx:[],props:o,update:K,not_equal:s,bound:Ot(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Ot(),dirty:i,skip_bound:!1,root:e.target||a.$$.root};r&&r(c.root);let D=!1;if(c.ctx=n?n(t,e.props||{},(v,$,...b)=>{const d=b.length?b[0]:$;return c.ctx&&s(c.ctx[v],c.ctx[v]=d)&&(!c.skip_bound&&c.bound[v]&&c.bound[v](d),D&&On(t,v)),$}):[],c.update(),D=!0,se(c.before_update),c.fragment=l?l(c.ctx):!1,e.target){if(e.hydrate){const v=mn(e.target);c.fragment&&c.fragment.l(v),v.forEach(M)}else c.fragment&&c.fragment.c();e.intro&&O(t.$$.fragment),z(t,e.target,e.anchor,e.customElement),ln()}Pe(a)}class te{$destroy(){F(this,1),this.$destroy=K}$on(e,n){if(!nn(n))return K;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const s=l.indexOf(n);s!==-1&&l.splice(s,1)}}$set(e){this.$$set&&!_n(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Sn(t){let e,n,l;return{c(){e=m("input"),y(e,"type","number"),y(e,"min","0"),y(e,"placeholder","0"),e.disabled=t[1],y(e,"class","svelte-dshvwj")},m(s,o){C(s,e,o),De(e,t[0]),n||(l=[V(e,"input",t[4]),V(e,"focus",t[2]),V(e,"change",t[3])],n=!0)},p(s,[o]){o&2&&(e.disabled=s[1]),o&1&&qe(e.value)!==s[0]&&De(e,s[0])},i:K,o:K,d(s){s&&M(e),n=!1,se(l)}}}function An(t,e,n){let{value:l=0}=e,{disabled:s=!1}=e;const o=()=>{l===0&&n(0,l=null)};function r(a){ut.call(this,t,a)}function i(){l=qe(this.value),n(0,l)}return t.$$set=a=>{"value"in a&&n(0,l=a.value),"disabled"in a&&n(1,s=a.disabled)},[l,s,o,r,i]}class Et extends te{constructor(e){super(),ee(this,e,An,Sn,Y,{value:0,disabled:1})}}const En="/assets/hoyolab-5192350c.png",Bn="/assets/paimon-edbc5f0b.png";function Bt(t,e,n){const l=t.slice();return l[3]=e[n],l}function Mt(t){let e,n,l,s,o,r=t[3].name+"",i,a,c,D;function v(){return t[2](t[3])}return{c(){e=m("button"),n=m("div"),l=m("img"),o=S(),i=R(r),a=S(),Ye(l.src,s=t[3].image)||y(l,"src",s),y(l,"alt",t[3].name+" icon"),y(l,"class","svelte-1fa22rh"),y(n,"class","images svelte-1fa22rh"),y(e,"class","link-button svelte-1fa22rh")},m($,b){C($,e,b),f(e,n),f(n,l),f(e,o),f(e,i),f(e,a),c||(D=V(e,"click",v),c=!0)},p($,b){t=$},d($){$&&M(e),c=!1,D()}}}function Mn(t){let e,n,l,s,o=t[0],r=[];for(let i=0;i<o.length;i+=1)r[i]=Mt(Bt(t,o,i));return{c(){e=m("section"),n=m("h2"),n.textContent="Other calculators",l=S(),s=m("div");for(let i=0;i<r.length;i+=1)r[i].c();y(s,"class","button-group svelte-1fa22rh")},m(i,a){C(i,e,a),f(e,n),f(e,l),f(e,s);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(s,null)},p(i,[a]){if(a&3){o=i[0];let c;for(c=0;c<o.length;c+=1){const D=Bt(i,o,c);r[c]?r[c].p(D,a):(r[c]=Mt(D),r[c].c(),r[c].m(s,null))}for(;c<r.length;c+=1)r[c].d(1);r.length=o.length}},i:K,o:K,d(i){i&&M(e),_e(r,i)}}}function Cn(t){const e=[{name:"Hoyolab",url:"https://act.hoyolab.com/ys/event/calculator-sea/index.html",image:En},{name:"Paimon.moe",url:"https://paimon.moe/calculator",image:Bn}],n=s=>{window.location.href=s.url};return[e,n,s=>n(s)]}class Rn extends te{constructor(e){super(),ee(this,e,Cn,Mn,Y,{})}}const ye=[];function ze(t,e=K){let n;const l=new Set;function s(i){if(Y(t,i)&&(t=i,n)){const a=!ye.length;for(const c of l)c[1](),ye.push(c,t);if(a){for(let c=0;c<ye.length;c+=2)ye[c][0](ye[c+1]);ye.length=0}}}function o(i){s(i(t))}function r(i,a=K){const c=[i,a];return l.add(c),l.size===1&&(n=e(s)||K),i(t),()=>{l.delete(c),l.size===0&&n&&(n(),n=null)}}return{set:s,update:o,subscribe:r}}const jn=JSON.parse(localStorage.getItem("have")),Oe=ze(jn||{five:null,four:null,three:null,two:null,one:null});Oe.subscribe(t=>{localStorage.setItem("have",JSON.stringify(t))});const Pn=JSON.parse(localStorage.getItem("need")),Se=ze(Pn||{five:null,four:null,three:null,two:null,one:null});Se.subscribe(t=>{localStorage.setItem("need",JSON.stringify(t))});const Ln=JSON.parse(localStorage.getItem("isDisabled")),Le=ze(Ln||{five:!1,four:!1,three:!1,two:!1,one:!1});Le.subscribe(t=>{localStorage.setItem("isDisabled",JSON.stringify(t))});const Nn="/assets/eliteMobDrops-2-5f1407ca.png",Gn="/assets/eliteMobDrops-3-5da2ba15.png",In="/assets/eliteMobDrops-4-84ea04cf.png",Tn="/assets/gemstones-2-a88bdd62.png",qn="/assets/gemstones-3-53e1a687.png",Kn="/assets/gemstones-4-0de16678.png",zn="/assets/gemstones-5-e0d716c1.png",Fn="/assets/mobDrops-1-24beb62c.png",Hn="/assets/mobDrops-2-fcbd928d.png",Jn="/assets/mobDrops-3-02ba1810.png",Un="/assets/talentBooks-2-cac4c025.png",Zn="/assets/talentBooks-3-45961ac7.png",Vn="/assets/talentBooks-4-817c41e4.png",Qn="/assets/weaponDomainDrops-2-e332eeed.png",Wn="/assets/weaponDomainDrops-3-9c761c4c.png",Xn="/assets/weaponDomainDrops-4-32ed3828.png",Yn="/assets/weaponDomainDrops-5-5b9d5f4c.png",nt=[{id:5,name:"five",label:"★★★★★"},{id:4,name:"four",label:"★★★★"},{id:3,name:"three",label:"★★★"},{id:2,name:"two",label:"★★"},{id:1,name:"one",label:"★"}],j={characterAscension:{min:0,max:6,drops:{gemstones:[{two:1},{three:3},{three:6},{four:3},{four:6},{five:6}],mobDrops:[{one:3},{one:15},{two:12},{two:18},{three:12},{three:24}]},disabledKeys:{gemstones:["one"],mobDrops:["five","four"]}},talents:{min:1,max:10,drops:{talentBooks:[{},{two:3},{three:2},{three:4},{three:6},{three:9},{four:4},{four:6},{four:12},{four:16}],mobDrops:[{},{one:6},{two:3},{two:4},{two:6},{two:9},{three:4},{three:6},{three:9},{three:12}]},disabledKeys:{talentBooks:["five","one"],mobDrops:["five","four"]}},weaponAscension5:{min:0,max:6,drops:{weaponDomainDrops:[{two:5},{three:5},{three:9},{four:5},{four:9},{five:6}],eliteMobDrops:[{two:5},{two:18},{three:9},{three:18},{four:14},{four:27}],mobDrops:[{one:3},{one:12},{two:9},{two:14},{three:9},{three:18}]},disabledKeys:{weaponDomainDrops:["one"],eliteMobDrops:["five","one"],mobDrops:["five","four"]}},weaponAscension4:{min:0,max:6,drops:{weaponDomainDrops:[{two:3},{three:3},{three:6},{four:3},{four:6},{five:4}],eliteMobDrops:[{two:3},{two:12},{three:6},{three:12},{four:9},{four:18}],mobDrops:[{one:2},{one:8},{two:6},{two:9},{three:6},{three:12}]},disabledKeys:{weaponDomainDrops:["one"],eliteMobDrops:["five","one"],mobDrops:["five","four"]}}},xn="/assets/none-42eb8057.png",Ct=t=>{let e=0,n=0;return["one","two","three","four","five"].forEach(l=>{Le[l]||(n+=t[l]*Math.pow(3,e),e++)}),n},es=t=>{const e={};for(let n in j[t].drops){const l={};["five","four","three","two","one"].forEach(s=>{l[s]=0}),j[t].disabledKeys[n].forEach(s=>{l[s]=null}),e[n]=l}return e},Rt=t=>{let e=[];return["five","four","three","two","one"].forEach(n=>{t[n]!==null?e.push(t[n]):e.push("-")}),e.join("/")},jt=t=>{let e=t.replace(/([A-Z])/g," $1");return e=e.toLowerCase(),e=e.charAt(0).toUpperCase()+e.slice(1),e},Pt=(t,e)=>{const n=[];return nt.forEach(l=>{j[t].disabledKeys[e].includes(l.name)?n.push({src:xn,alt:"Drop unavailable"}):n.push({src:new URL(Object.assign({"../assets/eliteMobDrops-2.png":Nn,"../assets/eliteMobDrops-3.png":Gn,"../assets/eliteMobDrops-4.png":In,"../assets/gemstones-2.png":Tn,"../assets/gemstones-3.png":qn,"../assets/gemstones-4.png":Kn,"../assets/gemstones-5.png":zn,"../assets/mobDrops-1.png":Fn,"../assets/mobDrops-2.png":Hn,"../assets/mobDrops-3.png":Jn,"../assets/talentBooks-2.png":Un,"../assets/talentBooks-3.png":Zn,"../assets/talentBooks-4.png":Vn,"../assets/weaponDomainDrops-2.png":Qn,"../assets/weaponDomainDrops-3.png":Wn,"../assets/weaponDomainDrops-4.png":Xn,"../assets/weaponDomainDrops-5.png":Yn})[`../assets/${e}-${l.id}.png`],self.location),alt:`${e}, rarity level ${l.name}`})}),n};function Lt(t){let e,n,l;return{c(){e=R("("),n=R(t[4]),l=R(" remaining)")},m(s,o){C(s,e,o),C(s,n,o),C(s,l,o)},p(s,o){o&16&&X(n,s[4])},d(s){s&&M(e),s&&M(n),s&&M(l)}}}function ts(t){let e,n,l,s,o,r,i,a,c,D,v,$,b,d=t[4]>0&&Lt(t);return{c(){e=m("div"),n=m("progress"),l=S(),s=m("br"),o=S(),r=R(t[2]),i=R(" / "),a=R(t[1]),c=S(),d&&d.c(),D=S(),v=m("br"),$=S(),b=R(t[3]),y(n,"max","100"),n.value=t[0],y(n,"class","svelte-x7r4ju"),Ee(n,"full",t[0]>=100)},m(w,h){C(w,e,h),f(e,n),f(e,l),f(e,s),f(e,o),f(e,r),f(e,i),f(e,a),f(e,c),d&&d.m(e,null),f(e,D),f(e,v),f(e,$),f(e,b)},p(w,[h]){h&1&&(n.value=w[0]),h&1&&Ee(n,"full",w[0]>=100),h&4&&X(r,w[2]),h&2&&X(a,w[1]),w[4]>0?d?d.p(w,h):(d=Lt(w),d.c(),d.m(e,D)):d&&(d.d(1),d=null),h&8&&X(b,w[3])},i:K,o:K,d(w){w&&M(e),d&&d.d()}}}function ns(t,e,n){let l,s,o,r,i,a,c;return ne(t,Se,D=>n(5,a=D)),ne(t,Oe,D=>n(6,c=D)),t.$$.update=()=>{t.$$.dirty&64&&n(2,l=Ct(c)),t.$$.dirty&32&&n(1,s=Ct(a)),t.$$.dirty&6&&n(4,o=(()=>s==0||s<l?0:s-l)()),t.$$.dirty&6&&n(0,r=(()=>s==0?0:l/s*100)()),t.$$.dirty&3&&n(3,i=(()=>s==0?"0.00%":`${r.toFixed(2)}%`)())},[r,s,l,i,o,a,c]}class ss extends te{constructor(e){super(),ee(this,e,ns,ts,Y,{})}}function We(t,e){for(let n in j[e].drops){const l={five:0,four:0,three:0,two:0,one:0};t[e].rangeGroups.forEach(s=>{for(let o=s.from;o<s.to;o++)["five","four","three","two","one"].forEach(r=>{r in j[e].drops[n][o]&&(l[r]+=j[e].drops[n][o][r])})}),j[e].disabledKeys[n].forEach(s=>{l[s]=null}),t[e].drops[n]=l}return t}function Nt(){return Math.random().toString(36).substr(2,9)}function ls(){const t={};for(let s in j){const o=j[s].min,r=j[s].max;t[s]={rangeGroups:[{id:Nt(),from:o,to:r}],drops:es(s)}}const{subscribe:e,set:n,update:l}=ze(t);return{subscribe:e,addRangeGroup:s=>{l(o=>{const r=j[s].min,i=j[s].max;return o[s].rangeGroups.push({id:Nt(),from:r,to:i}),o=We(o,s),o})},removeRangeGroup:(s,o)=>{l(r=>(r[s].rangeGroups.splice(o,1),r=We(r,s),r))},updateDrops:(s,o=0,r=null,i=null)=>{l(a=>(r!==null&&(a[s].rangeGroups[o].from=r),i!==null&&(a[s].rangeGroups[o].to=i),a=We(a,s),a))}}}const de=ls();const os=t=>({from:t&1,to:t&2}),Gt=t=>({from:t[0],to:t[1]}),rs=t=>({from:t&1,to:t&2}),It=t=>({from:t[0],to:t[1]});function is(t){let e,n,l,s;return{c(){e=R(t[0]),n=R(" ✦ to "),l=R(t[1]),s=R(" ✦")},m(o,r){C(o,e,r),C(o,n,r),C(o,l,r),C(o,s,r)},p(o,r){r&1&&X(e,o[0]),r&2&&X(l,o[1])},d(o){o&&M(e),o&&M(n),o&&M(l),o&&M(s)}}}function Tt(t){let e;return{c(){e=m("span"),e.innerHTML=`<br/>
        Invalid selection`,bn(e,"color","red")},m(n,l){C(n,e,l)},d(n){n&&M(e)}}}function qt(t){let e;const n=t[10].after,l=st(n,t,t[9],Gt);return{c(){l&&l.c()},m(s,o){l&&l.m(s,o),e=!0},p(s,o){l&&l.p&&(!e||o&515)&&ot(l,n,s,s[9],e?lt(n,s[9],o,os):rt(s[9]),Gt)},i(s){e||(O(l,s),e=!0)},o(s){B(l,s),e=!1},d(s){l&&l.d(s)}}}function us(t){let e,n,l,s,o,r,i,a,c,D,v;const $=t[10].default,b=st($,t,t[9],It),d=b||is(t);let w=t[2]&&Tt(),h=t[6].after&&qt(t);return{c(){e=m("div"),n=m("input"),l=S(),s=m("div"),d&&d.c(),o=S(),w&&w.c(),r=S(),i=m("input"),a=S(),h&&h.c(),y(n,"type","range"),y(n,"min",t[3]),y(n,"max",t[4]),y(n,"class","svelte-2158zr"),y(s,"class","svelte-2158zr"),y(i,"type","range"),y(i,"min",t[3]),y(i,"max",t[4]),y(i,"class","svelte-2158zr"),y(e,"class","range-group svelte-2158zr"),Ee(e,"error",t[2])},m(g,k){C(g,e,k),f(e,n),De(n,t[0]),f(e,l),f(e,s),d&&d.m(s,null),f(s,o),w&&w.m(s,null),f(e,r),f(e,i),De(i,t[1]),f(e,a),h&&h.m(e,null),c=!0,D||(v=[V(n,"change",t[11]),V(n,"input",t[11]),V(n,"change",t[5]),V(i,"change",t[12]),V(i,"input",t[12]),V(i,"change",t[5])],D=!0)},p(g,[k]){k&1&&De(n,g[0]),b?b.p&&(!c||k&515)&&ot(b,$,g,g[9],c?lt($,g[9],k,rs):rt(g[9]),It):d&&d.p&&(!c||k&3)&&d.p(g,c?k:-1),g[2]?w||(w=Tt(),w.c(),w.m(s,null)):w&&(w.d(1),w=null),k&2&&De(i,g[1]),g[6].after?h?(h.p(g,k),k&64&&O(h,1)):(h=qt(g),h.c(),O(h,1),h.m(e,null)):h&&(ce(),B(h,1,1,()=>{h=null}),fe()),(!c||k&4)&&Ee(e,"error",g[2])},i(g){c||(O(d,g),O(h),c=!0)},o(g){B(d,g),B(h),c=!1},d(g){g&&M(e),d&&d.d(g),w&&w.d(),h&&h.d(),D=!1,se(v)}}}function as(t,e,n){let l,{$$slots:s={},$$scope:o}=e;const r=dn(s);let{type:i}=e,{index:a=0}=e,c=j[i].min,D=j[i].max,v=c,$=D;function b(){l||de.updateDrops(i,a,v,$)}function d(){v=qe(this.value),n(0,v)}function w(){$=qe(this.value),n(1,$)}return t.$$set=h=>{"type"in h&&n(7,i=h.type),"index"in h&&n(8,a=h.index),"$$scope"in h&&n(9,o=h.$$scope)},t.$$.update=()=>{t.$$.dirty&3&&n(2,l=v>$)},[v,$,l,c,D,b,r,i,a,o,s,d,w]}class Te extends te{constructor(e){super(),ee(this,e,as,us,Y,{type:7,index:8})}}function cs(t){let e,n,l,s,o;const r=t[1].default,i=st(r,t,t[0],null);return{c(){e=m("div"),n=m("button"),i&&i.c(),y(n,"class","button svelte-6kykiy"),y(e,"class","button-container svelte-6kykiy")},m(a,c){C(a,e,c),f(e,n),i&&i.m(n,null),l=!0,s||(o=V(n,"click",t[2]),s=!0)},p(a,[c]){i&&i.p&&(!l||c&1)&&ot(i,r,a,a[0],l?lt(r,a[0],c,null):rt(a[0]),null)},i(a){l||(O(i,a),l=!0)},o(a){B(i,a),l=!1},d(a){a&&M(e),i&&i.d(a),s=!1,o()}}}function fs(t,e,n){let{$$slots:l={},$$scope:s}=e;function o(r){ut.call(this,t,r)}return t.$$set=r=>{"$$scope"in r&&n(0,s=r.$$scope)},[s,l,o]}class Xe extends te{constructor(e){super(),ee(this,e,fs,cs,Y,{})}}function Kt(t,e,n){const l=t.slice();return l[4]=e[n].src,l[5]=e[n].alt,l}function zt(t){let e,n,l;return{c(){e=m("img"),Ye(e.src,n=t[4])||y(e,"src",n),y(e,"alt",l=t[5]),y(e,"class","svelte-xosvu2")},m(s,o){C(s,e,o)},p(s,o){o&3&&!Ye(e.src,n=s[4])&&y(e,"src",n),o&3&&l!==(l=s[5])&&y(e,"alt",l)},d(s){s&&M(e)}}}function _s(t){let e,n,l,s=jt(t[1])+"",o,r,i,a=Rt(t[2][t[0]].drops[t[1]])+"",c,D,v,$=Pt(t[0],t[1]),b=[];for(let d=0;d<$.length;d+=1)b[d]=zt(Kt(t,$,d));return{c(){e=m("button"),n=m("div");for(let d=0;d<b.length;d+=1)b[d].c();l=S(),o=R(s),r=S(),i=m("div"),c=R(a),y(n,"class","images svelte-xosvu2"),y(i,"class","preview svelte-xosvu2"),y(e,"class","preset-button svelte-xosvu2")},m(d,w){C(d,e,w),f(e,n);for(let h=0;h<b.length;h+=1)b[h]&&b[h].m(n,null);f(e,l),f(e,o),f(e,r),f(e,i),f(i,c),D||(v=V(e,"click",t[3]),D=!0)},p(d,[w]){if(w&3){$=Pt(d[0],d[1]);let h;for(h=0;h<$.length;h+=1){const g=Kt(d,$,h);b[h]?b[h].p(g,w):(b[h]=zt(g),b[h].c(),b[h].m(n,null))}for(;h<b.length;h+=1)b[h].d(1);b.length=$.length}w&2&&s!==(s=jt(d[1])+"")&&X(o,s),w&7&&a!==(a=Rt(d[2][d[0]].drops[d[1]])+"")&&X(c,a)},i:K,o:K,d(d){d&&M(e),_e(b,d),D=!1,v()}}}function ps(t,e,n){let l;ne(t,de,i=>n(2,l=i));let{type:s}=e,{drop:o}=e;function r(i){ut.call(this,t,i)}return t.$$set=i=>{"type"in i&&n(0,s=i.type),"drop"in i&&n(1,o=i.drop)},[s,o,l,r]}class Fe extends te{constructor(e){super(),ee(this,e,ps,_s,Y,{type:0,drop:1})}}function ds(t){let e,n,l,s;return{c(){e=m("div"),n=m("button"),n.textContent="-",y(n,"class","button svelte-1f8dbfh"),Ee(n,"hide",t[2][t[0]].rangeGroups.length===1),y(e,"class","button-container svelte-1f8dbfh")},m(o,r){C(o,e,r),f(e,n),l||(s=V(n,"click",t[3]),l=!0)},p(o,[r]){r&5&&Ee(n,"hide",o[2][o[0]].rangeGroups.length===1)},i:K,o:K,d(o){o&&M(e),l=!1,s()}}}function hs(t,e,n){let l;ne(t,de,i=>n(2,l=i));let{type:s}=e,{index:o}=e;const r=()=>de.removeRangeGroup(s,o);return t.$$set=i=>{"type"in i&&n(0,s=i.type),"index"in i&&n(1,o=i.index)},[s,o,l,r]}class gs extends te{constructor(e){super(),ee(this,e,hs,ds,Y,{type:0,index:1})}}function ms(t){let e,n,l,s;return{c(){e=m("div"),n=m("button"),n.textContent="+",y(n,"class","button svelte-mh6vc6"),y(e,"class","button-container svelte-mh6vc6")},m(o,r){C(o,e,r),f(e,n),l||(s=V(n,"click",t[1]),l=!0)},p:K,i:K,o:K,d(o){o&&M(e),l=!1,s()}}}function bs(t,e,n){let{type:l}=e;const s=()=>de.addRangeGroup(l);return t.$$set=o=>{"type"in o&&n(0,l=o.type)},[l,s]}class vs extends te{constructor(e){super(),ee(this,e,bs,ms,Y,{type:0})}}function Ft(t,e,n){const l=t.slice();return l[14]=e[n],l}function Ht(t,e,n){const l=t.slice();return l[14]=e[n],l}function Jt(t,e,n){const l=t.slice();return l[14]=e[n],l}function Ut(t,e,n){const l=t.slice();return l[21]=e[n],l[23]=n,l}function Zt(t,e,n){const l=t.slice();return l[14]=e[n],l}function Vt(t,e,n){const l=t.slice();return l[28]=e[n],l[29]=e,l[30]=n,l}function Qt(t){let e,n,l=t[28].label+"",s,o,r,i,a,c,D,v,$,b;function d(k){t[8](k,t[28])}let w={disabled:t[1][t[28].name]};t[0][t[28].name]!==void 0&&(w.value=t[0][t[28].name]),i=new Et({props:w}),Ke.push(()=>At(i,"value",d));function h(k){t[9](k,t[28])}let g={disabled:t[1][t[28].name]};return t[3][t[28].name]!==void 0&&(g.value=t[3][t[28].name]),v=new Et({props:g}),Ke.push(()=>At(v,"value",h)),{c(){e=m("tr"),n=m("th"),s=R(l),o=S(),r=m("td"),H(i.$$.fragment),c=S(),D=m("td"),H(v.$$.fragment)},m(k,q){C(k,e,q),f(e,n),f(n,s),f(e,o),f(e,r),z(i,r,null),f(e,c),f(e,D),z(v,D,null),b=!0},p(k,q){t=k;const J={};q[0]&2&&(J.disabled=t[1][t[28].name]),!a&&q[0]&1&&(a=!0,J.value=t[0][t[28].name],St(()=>a=!1)),i.$set(J);const x={};q[0]&2&&(x.disabled=t[1][t[28].name]),!$&&q[0]&8&&($=!0,x.value=t[3][t[28].name],St(()=>$=!1)),v.$set(x)},i(k){b||(O(i.$$.fragment,k),O(v.$$.fragment,k),b=!0)},o(k){B(i.$$.fragment,k),B(v.$$.fragment,k),b=!1},d(k){k&&M(e),F(i),F(v)}}}function $s(t){let e;return{c(){e=R("Full Reset")},m(n,l){C(n,e,l)},d(n){n&&M(e)}}}function ws(t){let e;return{c(){e=R("Reset")},m(n,l){C(n,e,l)},d(n){n&&M(e)}}}function ys(t){let e;return{c(){e=R("Reset")},m(n,l){C(n,e,l)},d(n){n&&M(e)}}}function Wt(t){let e,n;function l(){return t[10](t[14])}return e=new Fe({props:{type:"characterAscension",drop:t[14]}}),e.$on("click",l),{c(){H(e.$$.fragment)},m(s,o){z(e,s,o),n=!0},p(s,o){t=s},i(s){n||(O(e.$$.fragment,s),n=!0)},o(s){B(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function ks(t){let e,n=t[24]+"",l,s,o=t[25]+"",r;return{c(){e=R("Lv. "),l=R(n),s=R(" to Lv. "),r=R(o)},m(i,a){C(i,e,a),C(i,l,a),C(i,s,a),C(i,r,a)},p(i,a){a[0]&16777216&&n!==(n=i[24]+"")&&X(l,n),a[0]&33554432&&o!==(o=i[25]+"")&&X(r,o)},d(i){i&&M(e),i&&M(l),i&&M(s),i&&M(r)}}}function Ds(t){let e,n,l;return n=new gs({props:{type:"talents",index:t[23]}}),{c(){e=m("div"),H(n.$$.fragment),y(e,"slot","after")},m(s,o){C(s,e,o),z(n,e,null),l=!0},p(s,o){const r={};o[0]&4&&(r.index=s[23]),n.$set(r)},i(s){l||(O(n.$$.fragment,s),l=!0)},o(s){B(n.$$.fragment,s),l=!1},d(s){s&&M(e),F(n)}}}function Xt(t,e){let n,l,s;return l=new Te({props:{type:"talents",index:e[23],$$slots:{after:[Ds],default:[ks,({from:o,to:r})=>({24:o,25:r}),({from:o,to:r})=>[(o?16777216:0)|(r?33554432:0)]]},$$scope:{ctx:e}}}),{key:t,first:null,c(){n=gn(),H(l.$$.fragment),this.first=n},m(o,r){C(o,n,r),z(l,o,r),s=!0},p(o,r){e=o;const i={};r[0]&4&&(i.index=e[23]),r[0]&50331652|r[1]&1&&(i.$$scope={dirty:r,ctx:e}),l.$set(i)},i(o){s||(O(l.$$.fragment,o),s=!0)},o(o){B(l.$$.fragment,o),s=!1},d(o){o&&M(n),F(l,o)}}}function Yt(t){let e,n;function l(){return t[11](t[14])}return e=new Fe({props:{type:"talents",drop:t[14]}}),e.$on("click",l),{c(){H(e.$$.fragment)},m(s,o){z(e,s,o),n=!0},p(s,o){t=s},i(s){n||(O(e.$$.fragment,s),n=!0)},o(s){B(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function xt(t){let e,n;function l(){return t[12](t[14])}return e=new Fe({props:{type:"weaponAscension5",drop:t[14]}}),e.$on("click",l),{c(){H(e.$$.fragment)},m(s,o){z(e,s,o),n=!0},p(s,o){t=s},i(s){n||(O(e.$$.fragment,s),n=!0)},o(s){B(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function en(t){let e,n;function l(){return t[13](t[14])}return e=new Fe({props:{type:"weaponAscension4",drop:t[14]}}),e.$on("click",l),{c(){H(e.$$.fragment)},m(s,o){z(e,s,o),n=!0},p(s,o){t=s},i(s){n||(O(e.$$.fragment,s),n=!0)},o(s){B(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function Os(t){let e,n,l,s,o,r,i,a,c,D,v,$,b,d,w,h,g,k,q,J,x,A,P,Q,U,le,He,at,he,ct,Be,ft,ge,Je,_t,me,pt,W=[],dt=new Map,Ue,Me,ht,Ze,gt,be,mt,Ce,bt,Ve,vt,ve,$t,Re,wt,$e,Ne,oe=nt,L=[];for(let u=0;u<oe.length;u+=1)L[u]=Qt(Vt(t,oe,u));const on=u=>B(L[u],1,1,()=>{L[u]=null});a=new Xe({props:{$$slots:{default:[$s]},$$scope:{ctx:t}}}),a.$on("click",t[7]),v=new Xe({props:{$$slots:{default:[ws]},$$scope:{ctx:t}}}),v.$on("click",t[5]),d=new Xe({props:{$$slots:{default:[ys]},$$scope:{ctx:t}}}),d.$on("click",t[6]),J=new ss({}),he=new Te({props:{type:"characterAscension"}});let re=Object.keys(j.characterAscension.drops),N=[];for(let u=0;u<re.length;u+=1)N[u]=Wt(Zt(t,re,u));const rn=u=>B(N[u],1,1,()=>{N[u]=null});me=new vs({props:{type:"talents"}});let je=t[2].talents.rangeGroups;const yt=u=>u[21].id;for(let u=0;u<je.length;u+=1){let p=Ut(t,je,u),E=yt(p);dt.set(E,W[u]=Xt(E,p))}let ie=Object.keys(j.talents.drops),G=[];for(let u=0;u<ie.length;u+=1)G[u]=Yt(Jt(t,ie,u));const un=u=>B(G[u],1,1,()=>{G[u]=null});be=new Te({props:{type:"weaponAscension5"}});let ue=Object.keys(j.weaponAscension5.drops),I=[];for(let u=0;u<ue.length;u+=1)I[u]=xt(Ht(t,ue,u));const an=u=>B(I[u],1,1,()=>{I[u]=null});ve=new Te({props:{type:"weaponAscension4"}});let ae=Object.keys(j.weaponAscension4.drops),T=[];for(let u=0;u<ae.length;u+=1)T[u]=en(Ft(t,ae,u));const cn=u=>B(T[u],1,1,()=>{T[u]=null});return $e=new Rn({}),{c(){e=m("main"),n=m("table"),l=m("tr"),l.innerHTML=`<th></th> 
      <th>Have</th> 
      <th>Need</th>`,s=S();for(let u=0;u<L.length;u+=1)L[u].c();o=S(),r=m("tr"),i=m("td"),H(a.$$.fragment),c=S(),D=m("td"),H(v.$$.fragment),$=S(),b=m("td"),H(d.$$.fragment),w=S(),h=m("tr"),g=m("th"),g.textContent="Progress",k=S(),q=m("td"),H(J.$$.fragment),x=S(),A=m("section"),P=m("h2"),P.textContent="Presets",Q=S(),U=m("div"),U.innerHTML=`<p>Use the sliders to select From and To, then click one of the buttons to
        apply the preset. Applying a preset will overwrite any existing value in
        the Need column.</p> 
      <p>If a preset is selected, the simplified value (under the progress bar)
        will be calculated based only on the available rarities of your selected
        preset (with the lowest rarity taking a value of 1, then 3, then 9,
        etc.). Also, input boxes for rarities that are impossible to obtain for
        the selected preset will be disabled.</p> 
      <p>To clear the preset and re-enable all inputs, click the &quot;Full Reset&quot;
        button.</p>`,le=S(),He=m("h4"),He.textContent="Character ascension",at=S(),H(he.$$.fragment),ct=S(),Be=m("div");for(let u=0;u<N.length;u+=1)N[u].c();ft=S(),ge=m("div"),Je=m("h4"),Je.textContent="Talents",_t=S(),H(me.$$.fragment),pt=S();for(let u=0;u<W.length;u+=1)W[u].c();Ue=S(),Me=m("div");for(let u=0;u<G.length;u+=1)G[u].c();ht=S(),Ze=m("h4"),Ze.textContent="5★ weapon ascension",gt=S(),H(be.$$.fragment),mt=S(),Ce=m("div");for(let u=0;u<I.length;u+=1)I[u].c();bt=S(),Ve=m("h4"),Ve.textContent="4★ weapon ascension",vt=S(),H(ve.$$.fragment),$t=S(),Re=m("div");for(let u=0;u<T.length;u+=1)T[u].c();wt=S(),H($e.$$.fragment),y(q,"colspan","2"),y(U,"class","explanation"),y(Be,"class","button-group"),y(ge,"class","talents-heading"),y(Me,"class","button-group"),y(Ce,"class","button-group"),y(Re,"class","button-group"),y(A,"class","presets-section")},m(u,p){C(u,e,p),f(e,n),f(n,l),f(n,s);for(let E=0;E<L.length;E+=1)L[E]&&L[E].m(n,null);f(n,o),f(n,r),f(r,i),z(a,i,null),f(r,c),f(r,D),z(v,D,null),f(r,$),f(r,b),z(d,b,null),f(n,w),f(n,h),f(h,g),f(h,k),f(h,q),z(J,q,null),f(e,x),f(e,A),f(A,P),f(A,Q),f(A,U),f(A,le),f(A,He),f(A,at),z(he,A,null),f(A,ct),f(A,Be);for(let E=0;E<N.length;E+=1)N[E]&&N[E].m(Be,null);f(A,ft),f(A,ge),f(ge,Je),f(ge,_t),z(me,ge,null),f(A,pt);for(let E=0;E<W.length;E+=1)W[E]&&W[E].m(A,null);f(A,Ue),f(A,Me);for(let E=0;E<G.length;E+=1)G[E]&&G[E].m(Me,null);f(A,ht),f(A,Ze),f(A,gt),z(be,A,null),f(A,mt),f(A,Ce);for(let E=0;E<I.length;E+=1)I[E]&&I[E].m(Ce,null);f(A,bt),f(A,Ve),f(A,vt),z(ve,A,null),f(A,$t),f(A,Re);for(let E=0;E<T.length;E+=1)T[E]&&T[E].m(Re,null);f(e,wt),z($e,e,null),Ne=!0},p(u,p){if(p[0]&11){oe=nt;let _;for(_=0;_<oe.length;_+=1){const Z=Vt(u,oe,_);L[_]?(L[_].p(Z,p),O(L[_],1)):(L[_]=Qt(Z),L[_].c(),O(L[_],1),L[_].m(n,o))}for(ce(),_=oe.length;_<L.length;_+=1)on(_);fe()}const E={};p[1]&1&&(E.$$scope={dirty:p,ctx:u}),a.$set(E);const kt={};p[1]&1&&(kt.$$scope={dirty:p,ctx:u}),v.$set(kt);const Dt={};if(p[1]&1&&(Dt.$$scope={dirty:p,ctx:u}),d.$set(Dt),p[0]&16){re=Object.keys(j.characterAscension.drops);let _;for(_=0;_<re.length;_+=1){const Z=Zt(u,re,_);N[_]?(N[_].p(Z,p),O(N[_],1)):(N[_]=Wt(Z),N[_].c(),O(N[_],1),N[_].m(Be,null))}for(ce(),_=re.length;_<N.length;_+=1)rn(_);fe()}if(p[0]&50331652&&(je=u[2].talents.rangeGroups,ce(),W=Dn(W,p,yt,1,u,je,dt,A,kn,Xt,Ue,Ut),fe()),p[0]&16){ie=Object.keys(j.talents.drops);let _;for(_=0;_<ie.length;_+=1){const Z=Jt(u,ie,_);G[_]?(G[_].p(Z,p),O(G[_],1)):(G[_]=Yt(Z),G[_].c(),O(G[_],1),G[_].m(Me,null))}for(ce(),_=ie.length;_<G.length;_+=1)un(_);fe()}if(p[0]&16){ue=Object.keys(j.weaponAscension5.drops);let _;for(_=0;_<ue.length;_+=1){const Z=Ht(u,ue,_);I[_]?(I[_].p(Z,p),O(I[_],1)):(I[_]=xt(Z),I[_].c(),O(I[_],1),I[_].m(Ce,null))}for(ce(),_=ue.length;_<I.length;_+=1)an(_);fe()}if(p[0]&16){ae=Object.keys(j.weaponAscension4.drops);let _;for(_=0;_<ae.length;_+=1){const Z=Ft(u,ae,_);T[_]?(T[_].p(Z,p),O(T[_],1)):(T[_]=en(Z),T[_].c(),O(T[_],1),T[_].m(Re,null))}for(ce(),_=ae.length;_<T.length;_+=1)cn(_);fe()}},i(u){if(!Ne){for(let p=0;p<oe.length;p+=1)O(L[p]);O(a.$$.fragment,u),O(v.$$.fragment,u),O(d.$$.fragment,u),O(J.$$.fragment,u),O(he.$$.fragment,u);for(let p=0;p<re.length;p+=1)O(N[p]);O(me.$$.fragment,u);for(let p=0;p<je.length;p+=1)O(W[p]);for(let p=0;p<ie.length;p+=1)O(G[p]);O(be.$$.fragment,u);for(let p=0;p<ue.length;p+=1)O(I[p]);O(ve.$$.fragment,u);for(let p=0;p<ae.length;p+=1)O(T[p]);O($e.$$.fragment,u),Ne=!0}},o(u){L=L.filter(Boolean);for(let p=0;p<L.length;p+=1)B(L[p]);B(a.$$.fragment,u),B(v.$$.fragment,u),B(d.$$.fragment,u),B(J.$$.fragment,u),B(he.$$.fragment,u),N=N.filter(Boolean);for(let p=0;p<N.length;p+=1)B(N[p]);B(me.$$.fragment,u);for(let p=0;p<W.length;p+=1)B(W[p]);G=G.filter(Boolean);for(let p=0;p<G.length;p+=1)B(G[p]);B(be.$$.fragment,u),I=I.filter(Boolean);for(let p=0;p<I.length;p+=1)B(I[p]);B(ve.$$.fragment,u),T=T.filter(Boolean);for(let p=0;p<T.length;p+=1)B(T[p]);B($e.$$.fragment,u),Ne=!1},d(u){u&&M(e),_e(L,u),F(a),F(v),F(d),F(J),F(he),_e(N,u),F(me);for(let p=0;p<W.length;p+=1)W[p].d();_e(G,u),F(be),_e(I,u),F(ve),_e(T,u),F($e)}}}function Ss(t,e,n){let l,s,o,r;ne(t,Oe,g=>n(0,l=g)),ne(t,Le,g=>n(1,s=g)),ne(t,de,g=>n(2,o=g)),ne(t,Se,g=>n(3,r=g));for(let g in j)de.updateDrops(g);const i=(g,k)=>{const q=o[g].drops[k];Le.set({five:q.five===null,four:q.four===null,three:q.three===null,two:q.two===null,one:q.one===null}),Se.set({...q}),["five","four","three","two","one"].forEach(J=>{s[J]&&hn(Oe,l[J]=0,l)}),window.scrollTo({top:0,behavior:"smooth"})},a=()=>{Oe.set({five:null,four:null,three:null,two:null,one:null})},c=()=>{Se.set({five:null,four:null,three:null,two:null,one:null})},D=()=>{localStorage.clear(),a(),c(),Le.set({five:!1,four:!1,three:!1,two:!1,one:!1})};function v(g,k){t.$$.not_equal(l[k.name],g)&&(l[k.name]=g,Oe.set(l))}function $(g,k){t.$$.not_equal(r[k.name],g)&&(r[k.name]=g,Se.set(r))}return[l,s,o,r,i,a,c,D,v,$,g=>i("characterAscension",g),g=>i("talents",g),g=>i("weaponAscension5",g),g=>i("weaponAscension4",g)]}class As extends te{constructor(e){super(),ee(this,e,Ss,Os,Y,{},null,[-1,-1])}}new As({target:document.getElementById("app")});
