(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function K(){}function cn(e,t){for(const n in t)e[n]=t[n];return e}function en(e){return e()}function Ot(){return Object.create(null)}function se(e){e.forEach(en)}function tn(e){return typeof e=="function"}function Y(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let Ge;function Ye(e,t){return Ge||(Ge=document.createElement("a")),Ge.href=t,e===Ge.href}function fn(e){return Object.keys(e).length===0}function _n(e,...t){if(e==null)return K;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function ee(e,t,n){e.$$.on_destroy.push(_n(t,n))}function st(e,t,n,l){if(e){const s=nn(e,t,n,l);return e[0](s)}}function nn(e,t,n,l){return e[1]&&l?cn(n.ctx.slice(),e[1](l(t))):n.ctx}function lt(e,t,n,l){if(e[2]&&l){const s=e[2](l(n));if(t.dirty===void 0)return s;if(typeof s=="object"){const o=[],r=Math.max(t.dirty.length,s.length);for(let i=0;i<r;i+=1)o[i]=t.dirty[i]|s[i];return o}return t.dirty|s}return t.dirty}function ot(e,t,n,l,s,o){if(s){const r=nn(t,n,l,o);e.p(r,s)}}function rt(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let l=0;l<n;l++)t[l]=-1;return t}return-1}function pn(e){const t={};for(const n in e)t[n]=!0;return t}function dn(e,t,n){return e.set(n),t}function f(e,t){e.appendChild(t)}function C(e,t,n){e.insertBefore(t,n||null)}function M(e){e.parentNode&&e.parentNode.removeChild(e)}function _e(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function v(e){return document.createElement(e)}function R(e){return document.createTextNode(e)}function S(){return R(" ")}function hn(){return R("")}function V(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function y(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function qe(e){return e===""?null:+e}function gn(e){return Array.from(e.childNodes)}function X(e,t){t=""+t,e.data!==t&&(e.data=t)}function De(e,t){e.value=t??""}function mn(e,t,n,l){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,l?"important":"")}function Ee(e,t,n){e.classList[n?"add":"remove"](t)}let it;function Pe(e){it=e}function ut(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(l=>l.call(this,t))}const ke=[],Ke=[];let Ae=[];const xe=[],bn=Promise.resolve();let et=!1;function vn(){et||(et=!0,bn.then(sn))}function tt(e){Ae.push(e)}function St(e){xe.push(e)}const Qe=new Set;let we=0;function sn(){if(we!==0)return;const e=it;do{try{for(;we<ke.length;){const t=ke[we];we++,Pe(t),$n(t.$$)}}catch(t){throw ke.length=0,we=0,t}for(Pe(null),ke.length=0,we=0;Ke.length;)Ke.pop()();for(let t=0;t<Ae.length;t+=1){const n=Ae[t];Qe.has(n)||(Qe.add(n),n())}Ae.length=0}while(ke.length);for(;xe.length;)xe.pop()();et=!1,Qe.clear(),Pe(e)}function $n(e){if(e.fragment!==null){e.update(),se(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(tt)}}function wn(e){const t=[],n=[];Ae.forEach(l=>e.indexOf(l)===-1?t.push(l):n.push(l)),n.forEach(l=>l()),Ae=t}const Ie=new Set;let pe;function ce(){pe={r:0,c:[],p:pe}}function fe(){pe.r||se(pe.c),pe=pe.p}function D(e,t){e&&e.i&&(Ie.delete(e),e.i(t))}function B(e,t,n,l){if(e&&e.o){if(Ie.has(e))return;Ie.add(e),pe.c.push(()=>{Ie.delete(e),l&&(n&&e.d(1),l())}),e.o(t)}else l&&l()}function yn(e,t){B(e,1,1,()=>{t.delete(e.key)})}function kn(e,t,n,l,s,o,r,i,a,c,O,$){let m=e.length,b=o.length,p=m;const w={};for(;p--;)w[e[p].key]=p;const h=[],g=new Map,k=new Map,q=[];for(p=b;p--;){const P=$(s,o,p),Q=n(P);let U=r.get(Q);U?l&&q.push(()=>U.p(P,t)):(U=c(Q,P),U.c()),g.set(Q,h[p]=U),Q in w&&k.set(Q,Math.abs(p-w[Q]))}const J=new Set,x=new Set;function A(P){D(P,1),P.m(i,O),r.set(P.key,P),O=P.first,b--}for(;m&&b;){const P=h[b-1],Q=e[m-1],U=P.key,le=Q.key;P===Q?(O=P.first,m--,b--):g.has(le)?!r.has(U)||J.has(U)?A(P):x.has(le)?m--:k.get(U)>k.get(le)?(x.add(U),A(P)):(J.add(le),m--):(a(Q,r),m--)}for(;m--;){const P=e[m];g.has(P.key)||a(P,r)}for(;b;)A(h[b-1]);return se(q),h}function At(e,t,n){const l=e.$$.props[t];l!==void 0&&(e.$$.bound[l]=n,n(e.$$.ctx[l]))}function H(e){e&&e.c()}function z(e,t,n,l){const{fragment:s,after_update:o}=e.$$;s&&s.m(t,n),l||tt(()=>{const r=e.$$.on_mount.map(en).filter(tn);e.$$.on_destroy?e.$$.on_destroy.push(...r):se(r),e.$$.on_mount=[]}),o.forEach(tt)}function F(e,t){const n=e.$$;n.fragment!==null&&(wn(n.after_update),se(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Dn(e,t){e.$$.dirty[0]===-1&&(ke.push(e),vn(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function te(e,t,n,l,s,o,r,i=[-1]){const a=it;Pe(e);const c=e.$$={fragment:null,ctx:[],props:o,update:K,not_equal:s,bound:Ot(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:Ot(),dirty:i,skip_bound:!1,root:t.target||a.$$.root};r&&r(c.root);let O=!1;if(c.ctx=n?n(e,t.props||{},($,m,...b)=>{const p=b.length?b[0]:m;return c.ctx&&s(c.ctx[$],c.ctx[$]=p)&&(!c.skip_bound&&c.bound[$]&&c.bound[$](p),O&&Dn(e,$)),m}):[],c.update(),O=!0,se(c.before_update),c.fragment=l?l(c.ctx):!1,t.target){if(t.hydrate){const $=gn(t.target);c.fragment&&c.fragment.l($),$.forEach(M)}else c.fragment&&c.fragment.c();t.intro&&D(e.$$.fragment),z(e,t.target,t.anchor,t.customElement),sn()}Pe(a)}class ne{$destroy(){F(this,1),this.$destroy=K}$on(t,n){if(!tn(n))return K;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const s=l.indexOf(n);s!==-1&&l.splice(s,1)}}$set(t){this.$$set&&!fn(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function On(e){let t,n,l;return{c(){t=v("input"),y(t,"type","number"),y(t,"min","0"),y(t,"placeholder","0"),t.disabled=e[1],y(t,"class","svelte-dshvwj")},m(s,o){C(s,t,o),De(t,e[0]),n||(l=[V(t,"input",e[4]),V(t,"focus",e[2]),V(t,"change",e[3])],n=!0)},p(s,[o]){o&2&&(t.disabled=s[1]),o&1&&qe(t.value)!==s[0]&&De(t,s[0])},i:K,o:K,d(s){s&&M(t),n=!1,se(l)}}}function Sn(e,t,n){let{value:l=0}=t,{disabled:s=!1}=t;const o=()=>{l===0&&n(0,l=null)};function r(a){ut.call(this,e,a)}function i(){l=qe(this.value),n(0,l)}return e.$$set=a=>{"value"in a&&n(0,l=a.value),"disabled"in a&&n(1,s=a.disabled)},[l,s,o,r,i]}class Et extends ne{constructor(t){super(),te(this,t,Sn,On,Y,{value:0,disabled:1})}}const An="/assets/hoyolab-5192350c.png",En="/assets/paimon-edbc5f0b.png";function Bt(e,t,n){const l=e.slice();return l[3]=t[n],l}function Mt(e){let t,n,l,s,o,r=e[3].name+"",i,a,c,O;function $(){return e[2](e[3])}return{c(){t=v("button"),n=v("div"),l=v("img"),o=S(),i=R(r),a=S(),Ye(l.src,s=e[3].image)||y(l,"src",s),y(l,"alt",e[3].name+" icon"),y(l,"class","svelte-1fa22rh"),y(n,"class","images svelte-1fa22rh"),y(t,"class","link-button svelte-1fa22rh")},m(m,b){C(m,t,b),f(t,n),f(n,l),f(t,o),f(t,i),f(t,a),c||(O=V(t,"click",$),c=!0)},p(m,b){e=m},d(m){m&&M(t),c=!1,O()}}}function Bn(e){let t,n,l,s,o=e[0],r=[];for(let i=0;i<o.length;i+=1)r[i]=Mt(Bt(e,o,i));return{c(){t=v("section"),n=v("h2"),n.textContent="Other calculators",l=S(),s=v("div");for(let i=0;i<r.length;i+=1)r[i].c();y(s,"class","button-group svelte-1fa22rh")},m(i,a){C(i,t,a),f(t,n),f(t,l),f(t,s);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(s,null)},p(i,[a]){if(a&3){o=i[0];let c;for(c=0;c<o.length;c+=1){const O=Bt(i,o,c);r[c]?r[c].p(O,a):(r[c]=Mt(O),r[c].c(),r[c].m(s,null))}for(;c<r.length;c+=1)r[c].d(1);r.length=o.length}},i:K,o:K,d(i){i&&M(t),_e(r,i)}}}function Mn(e){const t=[{name:"Hoyolab",url:"https://act.hoyolab.com/ys/event/calculator-sea/index.html",image:An},{name:"Paimon.moe",url:"https://paimon.moe/calculator",image:En}],n=s=>{window.location.href=s.url};return[t,n,s=>n(s)]}class Cn extends ne{constructor(t){super(),te(this,t,Mn,Bn,Y,{})}}const ye=[];function ze(e,t=K){let n;const l=new Set;function s(i){if(Y(e,i)&&(e=i,n)){const a=!ye.length;for(const c of l)c[1](),ye.push(c,e);if(a){for(let c=0;c<ye.length;c+=2)ye[c][0](ye[c+1]);ye.length=0}}}function o(i){s(i(e))}function r(i,a=K){const c=[i,a];return l.add(c),l.size===1&&(n=t(s)||K),i(e),()=>{l.delete(c),l.size===0&&n&&(n(),n=null)}}return{set:s,update:o,subscribe:r}}const Rn=JSON.parse(localStorage.getItem("have")),Oe=ze(Rn||{five:null,four:null,three:null,two:null,one:null});Oe.subscribe(e=>{localStorage.setItem("have",JSON.stringify(e))});const jn=JSON.parse(localStorage.getItem("need")),Se=ze(jn||{five:null,four:null,three:null,two:null,one:null});Se.subscribe(e=>{localStorage.setItem("need",JSON.stringify(e))});const Pn=JSON.parse(localStorage.getItem("isDisabled")),Le=ze(Pn||{five:!1,four:!1,three:!1,two:!1,one:!1});Le.subscribe(e=>{localStorage.setItem("isDisabled",JSON.stringify(e))});function Ct(e){let t,n,l;return{c(){t=R("("),n=R(e[4]),l=R(" remaining)")},m(s,o){C(s,t,o),C(s,n,o),C(s,l,o)},p(s,o){o&16&&X(n,s[4])},d(s){s&&M(t),s&&M(n),s&&M(l)}}}function Ln(e){let t,n,l,s,o,r,i,a,c,O,$,m,b,p=e[4]>0&&Ct(e);return{c(){t=v("div"),n=v("progress"),l=S(),s=v("br"),o=S(),r=R(e[2]),i=R(" / "),a=R(e[1]),c=S(),p&&p.c(),O=S(),$=v("br"),m=S(),b=R(e[3]),y(n,"max","100"),n.value=e[0],y(n,"class","svelte-x7r4ju"),Ee(n,"full",e[0]>=100)},m(w,h){C(w,t,h),f(t,n),f(t,l),f(t,s),f(t,o),f(t,r),f(t,i),f(t,a),f(t,c),p&&p.m(t,null),f(t,O),f(t,$),f(t,m),f(t,b)},p(w,[h]){h&1&&(n.value=w[0]),h&1&&Ee(n,"full",w[0]>=100),h&4&&X(r,w[2]),h&2&&X(a,w[1]),w[4]>0?p?p.p(w,h):(p=Ct(w),p.c(),p.m(t,O)):p&&(p.d(1),p=null),h&8&&X(b,w[3])},i:K,o:K,d(w){w&&M(t),p&&p.d()}}}function Nn(e,t,n){let l,s,o,r,i,a,c,O;ee(e,Se,m=>n(5,a=m)),ee(e,Oe,m=>n(6,c=m)),ee(e,Le,m=>n(7,O=m));const $=m=>{let b=0,p=0;return["one","two","three","four","five"].forEach(w=>{O[w]||(p+=m[w]*Math.pow(3,b),b++)}),p};return e.$$.update=()=>{e.$$.dirty&64&&n(2,l=$(c)),e.$$.dirty&32&&n(1,s=$(a)),e.$$.dirty&6&&n(4,o=(()=>s==0||s<l?0:s-l)()),e.$$.dirty&6&&n(0,r=(()=>s==0?0:l/s*100)()),e.$$.dirty&3&&n(3,i=(()=>s==0?"0.00%":`${r.toFixed(2)}%`)())},[r,s,l,i,o,a,c]}class Gn extends ne{constructor(t){super(),te(this,t,Nn,Ln,Y,{})}}const nt=[{id:5,name:"five",label:"★★★★★"},{id:4,name:"four",label:"★★★★"},{id:3,name:"three",label:"★★★"},{id:2,name:"two",label:"★★"},{id:1,name:"one",label:"★"}],j={characterAscension:{min:0,max:6,drops:{gemstones:[{two:1},{three:3},{three:6},{four:3},{four:6},{five:6}],mobDrops:[{one:3},{one:15},{two:12},{two:18},{three:12},{three:24}]},disabledKeys:{gemstones:["one"],mobDrops:["five","four"]}},talents:{min:1,max:10,drops:{talentBooks:[{},{two:3},{three:2},{three:4},{three:6},{three:9},{four:4},{four:6},{four:12},{four:16}],mobDrops:[{},{one:6},{two:3},{two:4},{two:6},{two:9},{three:4},{three:6},{three:9},{three:12}]},disabledKeys:{talentBooks:["five","one"],mobDrops:["five","four"]}},weaponAscension5:{min:0,max:6,drops:{weaponDomainDrops:[{two:5},{three:5},{three:9},{four:5},{four:9},{five:6}],eliteMobDrops:[{two:5},{two:18},{three:9},{three:18},{four:14},{four:27}],mobDrops:[{one:3},{one:12},{two:9},{two:14},{three:9},{three:18}]},disabledKeys:{weaponDomainDrops:["one"],eliteMobDrops:["five","one"],mobDrops:["five","four"]}},weaponAscension4:{min:0,max:6,drops:{weaponDomainDrops:[{two:3},{three:3},{three:6},{four:3},{four:6},{five:4}],eliteMobDrops:[{two:3},{two:12},{three:6},{three:12},{four:9},{four:18}],mobDrops:[{one:2},{one:8},{two:6},{two:9},{three:6},{three:12}]},disabledKeys:{weaponDomainDrops:["one"],eliteMobDrops:["five","one"],mobDrops:["five","four"]}}},In="/assets/eliteMobDrops-2-5f1407ca.png",Tn="/assets/eliteMobDrops-3-5da2ba15.png",qn="/assets/eliteMobDrops-4-84ea04cf.png",Kn="/assets/gemstones-2-a88bdd62.png",zn="/assets/gemstones-3-53e1a687.png",Fn="/assets/gemstones-4-0de16678.png",Hn="/assets/gemstones-5-e0d716c1.png",Jn="/assets/mobDrops-1-24beb62c.png",Un="/assets/mobDrops-2-fcbd928d.png",Zn="/assets/mobDrops-3-02ba1810.png",Vn="/assets/talentBooks-2-cac4c025.png",Qn="/assets/talentBooks-3-45961ac7.png",Wn="/assets/talentBooks-4-817c41e4.png",Xn="/assets/weaponDomainDrops-2-e332eeed.png",Yn="/assets/weaponDomainDrops-3-9c761c4c.png",xn="/assets/weaponDomainDrops-4-32ed3828.png",es="/assets/weaponDomainDrops-5-5b9d5f4c.png",ts="/assets/none-42eb8057.png",ns=e=>{const t={};for(let n in j[e].drops){const l={};["five","four","three","two","one"].forEach(s=>{l[s]=0}),j[e].disabledKeys[n].forEach(s=>{l[s]=null}),t[n]=l}return t},Rt=e=>{let t=[];return["five","four","three","two","one"].forEach(n=>{e[n]!==null?t.push(e[n]):t.push("-")}),t.join("/")},jt=e=>{let t=e.replace(/([A-Z])/g," $1");return t=t.toLowerCase(),t=t.charAt(0).toUpperCase()+t.slice(1),t},Pt=(e,t)=>{const n=[];return nt.forEach(l=>{j[e].disabledKeys[t].includes(l.name)?n.push({src:ts,alt:"Drop unavailable"}):n.push({src:new URL(Object.assign({"../assets/eliteMobDrops-2.png":In,"../assets/eliteMobDrops-3.png":Tn,"../assets/eliteMobDrops-4.png":qn,"../assets/gemstones-2.png":Kn,"../assets/gemstones-3.png":zn,"../assets/gemstones-4.png":Fn,"../assets/gemstones-5.png":Hn,"../assets/mobDrops-1.png":Jn,"../assets/mobDrops-2.png":Un,"../assets/mobDrops-3.png":Zn,"../assets/talentBooks-2.png":Vn,"../assets/talentBooks-3.png":Qn,"../assets/talentBooks-4.png":Wn,"../assets/weaponDomainDrops-2.png":Xn,"../assets/weaponDomainDrops-3.png":Yn,"../assets/weaponDomainDrops-4.png":xn,"../assets/weaponDomainDrops-5.png":es})[`../assets/${t}-${l.id}.png`],self.location),alt:`${t}, rarity level ${l.name}`})}),n};function We(e,t){for(let n in j[t].drops){const l={five:0,four:0,three:0,two:0,one:0};e[t].rangeGroups.forEach(s=>{for(let o=s.from;o<s.to;o++)["five","four","three","two","one"].forEach(r=>{r in j[t].drops[n][o]&&(l[r]+=j[t].drops[n][o][r])})}),j[t].disabledKeys[n].forEach(s=>{l[s]=null}),e[t].drops[n]=l}return e}function Lt(){return Math.random().toString(36).substr(2,9)}function ss(){const e={};for(let s in j){const o=j[s].min,r=j[s].max;e[s]={rangeGroups:[{id:Lt(),from:o,to:r}],drops:ns(s)}}const{subscribe:t,set:n,update:l}=ze(e);return{subscribe:t,addRangeGroup:s=>{l(o=>{const r=j[s].min,i=j[s].max;return o[s].rangeGroups.push({id:Lt(),from:r,to:i}),o=We(o,s),o})},removeRangeGroup:(s,o)=>{l(r=>(r[s].rangeGroups.splice(o,1),r=We(r,s),r))},updateDrops:(s,o=0,r=null,i=null)=>{l(a=>(r!==null&&(a[s].rangeGroups[o].from=r),i!==null&&(a[s].rangeGroups[o].to=i),a=We(a,s),a))}}}const de=ss();const ls=e=>({from:e&1,to:e&2}),Nt=e=>({from:e[0],to:e[1]}),os=e=>({from:e&1,to:e&2}),Gt=e=>({from:e[0],to:e[1]});function rs(e){let t,n,l,s;return{c(){t=R(e[0]),n=R(" ✦ to "),l=R(e[1]),s=R(" ✦")},m(o,r){C(o,t,r),C(o,n,r),C(o,l,r),C(o,s,r)},p(o,r){r&1&&X(t,o[0]),r&2&&X(l,o[1])},d(o){o&&M(t),o&&M(n),o&&M(l),o&&M(s)}}}function It(e){let t;return{c(){t=v("span"),t.innerHTML=`<br/>
        Invalid selection`,mn(t,"color","red")},m(n,l){C(n,t,l)},d(n){n&&M(t)}}}function Tt(e){let t;const n=e[10].after,l=st(n,e,e[9],Nt);return{c(){l&&l.c()},m(s,o){l&&l.m(s,o),t=!0},p(s,o){l&&l.p&&(!t||o&515)&&ot(l,n,s,s[9],t?lt(n,s[9],o,ls):rt(s[9]),Nt)},i(s){t||(D(l,s),t=!0)},o(s){B(l,s),t=!1},d(s){l&&l.d(s)}}}function is(e){let t,n,l,s,o,r,i,a,c,O,$;const m=e[10].default,b=st(m,e,e[9],Gt),p=b||rs(e);let w=e[2]&&It(),h=e[6].after&&Tt(e);return{c(){t=v("div"),n=v("input"),l=S(),s=v("div"),p&&p.c(),o=S(),w&&w.c(),r=S(),i=v("input"),a=S(),h&&h.c(),y(n,"type","range"),y(n,"min",e[3]),y(n,"max",e[4]),y(n,"class","svelte-2158zr"),y(s,"class","svelte-2158zr"),y(i,"type","range"),y(i,"min",e[3]),y(i,"max",e[4]),y(i,"class","svelte-2158zr"),y(t,"class","range-group svelte-2158zr"),Ee(t,"error",e[2])},m(g,k){C(g,t,k),f(t,n),De(n,e[0]),f(t,l),f(t,s),p&&p.m(s,null),f(s,o),w&&w.m(s,null),f(t,r),f(t,i),De(i,e[1]),f(t,a),h&&h.m(t,null),c=!0,O||($=[V(n,"change",e[11]),V(n,"input",e[11]),V(n,"change",e[5]),V(i,"change",e[12]),V(i,"input",e[12]),V(i,"change",e[5])],O=!0)},p(g,[k]){k&1&&De(n,g[0]),b?b.p&&(!c||k&515)&&ot(b,m,g,g[9],c?lt(m,g[9],k,os):rt(g[9]),Gt):p&&p.p&&(!c||k&3)&&p.p(g,c?k:-1),g[2]?w||(w=It(),w.c(),w.m(s,null)):w&&(w.d(1),w=null),k&2&&De(i,g[1]),g[6].after?h?(h.p(g,k),k&64&&D(h,1)):(h=Tt(g),h.c(),D(h,1),h.m(t,null)):h&&(ce(),B(h,1,1,()=>{h=null}),fe()),(!c||k&4)&&Ee(t,"error",g[2])},i(g){c||(D(p,g),D(h),c=!0)},o(g){B(p,g),B(h),c=!1},d(g){g&&M(t),p&&p.d(g),w&&w.d(),h&&h.d(),O=!1,se($)}}}function us(e,t,n){let l,{$$slots:s={},$$scope:o}=t;const r=pn(s);let{type:i}=t,{index:a=0}=t,c=j[i].min,O=j[i].max,$=c,m=O;function b(){l||de.updateDrops(i,a,$,m)}function p(){$=qe(this.value),n(0,$)}function w(){m=qe(this.value),n(1,m)}return e.$$set=h=>{"type"in h&&n(7,i=h.type),"index"in h&&n(8,a=h.index),"$$scope"in h&&n(9,o=h.$$scope)},e.$$.update=()=>{e.$$.dirty&3&&n(2,l=$>m)},[$,m,l,c,O,b,r,i,a,o,s,p,w]}class Te extends ne{constructor(t){super(),te(this,t,us,is,Y,{type:7,index:8})}}function as(e){let t,n,l,s,o;const r=e[1].default,i=st(r,e,e[0],null);return{c(){t=v("div"),n=v("button"),i&&i.c(),y(n,"class","button svelte-6kykiy"),y(t,"class","button-container svelte-6kykiy")},m(a,c){C(a,t,c),f(t,n),i&&i.m(n,null),l=!0,s||(o=V(n,"click",e[2]),s=!0)},p(a,[c]){i&&i.p&&(!l||c&1)&&ot(i,r,a,a[0],l?lt(r,a[0],c,null):rt(a[0]),null)},i(a){l||(D(i,a),l=!0)},o(a){B(i,a),l=!1},d(a){a&&M(t),i&&i.d(a),s=!1,o()}}}function cs(e,t,n){let{$$slots:l={},$$scope:s}=t;function o(r){ut.call(this,e,r)}return e.$$set=r=>{"$$scope"in r&&n(0,s=r.$$scope)},[s,l,o]}class Xe extends ne{constructor(t){super(),te(this,t,cs,as,Y,{})}}function qt(e,t,n){const l=e.slice();return l[4]=t[n].src,l[5]=t[n].alt,l}function Kt(e){let t,n,l;return{c(){t=v("img"),Ye(t.src,n=e[4])||y(t,"src",n),y(t,"alt",l=e[5]),y(t,"class","svelte-xosvu2")},m(s,o){C(s,t,o)},p(s,o){o&3&&!Ye(t.src,n=s[4])&&y(t,"src",n),o&3&&l!==(l=s[5])&&y(t,"alt",l)},d(s){s&&M(t)}}}function fs(e){let t,n,l,s=jt(e[1])+"",o,r,i,a=Rt(e[2][e[0]].drops[e[1]])+"",c,O,$,m=Pt(e[0],e[1]),b=[];for(let p=0;p<m.length;p+=1)b[p]=Kt(qt(e,m,p));return{c(){t=v("button"),n=v("div");for(let p=0;p<b.length;p+=1)b[p].c();l=S(),o=R(s),r=S(),i=v("div"),c=R(a),y(n,"class","images svelte-xosvu2"),y(i,"class","preview svelte-xosvu2"),y(t,"class","preset-button svelte-xosvu2")},m(p,w){C(p,t,w),f(t,n);for(let h=0;h<b.length;h+=1)b[h]&&b[h].m(n,null);f(t,l),f(t,o),f(t,r),f(t,i),f(i,c),O||($=V(t,"click",e[3]),O=!0)},p(p,[w]){if(w&3){m=Pt(p[0],p[1]);let h;for(h=0;h<m.length;h+=1){const g=qt(p,m,h);b[h]?b[h].p(g,w):(b[h]=Kt(g),b[h].c(),b[h].m(n,null))}for(;h<b.length;h+=1)b[h].d(1);b.length=m.length}w&2&&s!==(s=jt(p[1])+"")&&X(o,s),w&7&&a!==(a=Rt(p[2][p[0]].drops[p[1]])+"")&&X(c,a)},i:K,o:K,d(p){p&&M(t),_e(b,p),O=!1,$()}}}function _s(e,t,n){let l;ee(e,de,i=>n(2,l=i));let{type:s}=t,{drop:o}=t;function r(i){ut.call(this,e,i)}return e.$$set=i=>{"type"in i&&n(0,s=i.type),"drop"in i&&n(1,o=i.drop)},[s,o,l,r]}class Fe extends ne{constructor(t){super(),te(this,t,_s,fs,Y,{type:0,drop:1})}}function ps(e){let t,n,l,s;return{c(){t=v("div"),n=v("button"),n.textContent="-",y(n,"class","button svelte-1f8dbfh"),Ee(n,"hide",e[2][e[0]].rangeGroups.length===1),y(t,"class","button-container svelte-1f8dbfh")},m(o,r){C(o,t,r),f(t,n),l||(s=V(n,"click",e[3]),l=!0)},p(o,[r]){r&5&&Ee(n,"hide",o[2][o[0]].rangeGroups.length===1)},i:K,o:K,d(o){o&&M(t),l=!1,s()}}}function ds(e,t,n){let l;ee(e,de,i=>n(2,l=i));let{type:s}=t,{index:o}=t;const r=()=>de.removeRangeGroup(s,o);return e.$$set=i=>{"type"in i&&n(0,s=i.type),"index"in i&&n(1,o=i.index)},[s,o,l,r]}class hs extends ne{constructor(t){super(),te(this,t,ds,ps,Y,{type:0,index:1})}}function gs(e){let t,n,l,s;return{c(){t=v("div"),n=v("button"),n.textContent="+",y(n,"class","button svelte-mh6vc6"),y(t,"class","button-container svelte-mh6vc6")},m(o,r){C(o,t,r),f(t,n),l||(s=V(n,"click",e[1]),l=!0)},p:K,i:K,o:K,d(o){o&&M(t),l=!1,s()}}}function ms(e,t,n){let{type:l}=t;const s=()=>de.addRangeGroup(l);return e.$$set=o=>{"type"in o&&n(0,l=o.type)},[l,s]}class bs extends ne{constructor(t){super(),te(this,t,ms,gs,Y,{type:0})}}function zt(e,t,n){const l=e.slice();return l[14]=t[n],l}function Ft(e,t,n){const l=e.slice();return l[14]=t[n],l}function Ht(e,t,n){const l=e.slice();return l[14]=t[n],l}function Jt(e,t,n){const l=e.slice();return l[21]=t[n],l[23]=n,l}function Ut(e,t,n){const l=e.slice();return l[14]=t[n],l}function Zt(e,t,n){const l=e.slice();return l[28]=t[n],l[29]=t,l[30]=n,l}function Vt(e){let t,n,l=e[28].label+"",s,o,r,i,a,c,O,$,m,b;function p(k){e[8](k,e[28])}let w={disabled:e[1][e[28].name]};e[0][e[28].name]!==void 0&&(w.value=e[0][e[28].name]),i=new Et({props:w}),Ke.push(()=>At(i,"value",p));function h(k){e[9](k,e[28])}let g={disabled:e[1][e[28].name]};return e[3][e[28].name]!==void 0&&(g.value=e[3][e[28].name]),$=new Et({props:g}),Ke.push(()=>At($,"value",h)),{c(){t=v("tr"),n=v("th"),s=R(l),o=S(),r=v("td"),H(i.$$.fragment),c=S(),O=v("td"),H($.$$.fragment)},m(k,q){C(k,t,q),f(t,n),f(n,s),f(t,o),f(t,r),z(i,r,null),f(t,c),f(t,O),z($,O,null),b=!0},p(k,q){e=k;const J={};q[0]&2&&(J.disabled=e[1][e[28].name]),!a&&q[0]&1&&(a=!0,J.value=e[0][e[28].name],St(()=>a=!1)),i.$set(J);const x={};q[0]&2&&(x.disabled=e[1][e[28].name]),!m&&q[0]&8&&(m=!0,x.value=e[3][e[28].name],St(()=>m=!1)),$.$set(x)},i(k){b||(D(i.$$.fragment,k),D($.$$.fragment,k),b=!0)},o(k){B(i.$$.fragment,k),B($.$$.fragment,k),b=!1},d(k){k&&M(t),F(i),F($)}}}function vs(e){let t;return{c(){t=R("Full Reset")},m(n,l){C(n,t,l)},d(n){n&&M(t)}}}function $s(e){let t;return{c(){t=R("Reset")},m(n,l){C(n,t,l)},d(n){n&&M(t)}}}function ws(e){let t;return{c(){t=R("Reset")},m(n,l){C(n,t,l)},d(n){n&&M(t)}}}function Qt(e){let t,n;function l(){return e[10](e[14])}return t=new Fe({props:{type:"characterAscension",drop:e[14]}}),t.$on("click",l),{c(){H(t.$$.fragment)},m(s,o){z(t,s,o),n=!0},p(s,o){e=s},i(s){n||(D(t.$$.fragment,s),n=!0)},o(s){B(t.$$.fragment,s),n=!1},d(s){F(t,s)}}}function ys(e){let t,n=e[24]+"",l,s,o=e[25]+"",r;return{c(){t=R("Lv. "),l=R(n),s=R(" to Lv. "),r=R(o)},m(i,a){C(i,t,a),C(i,l,a),C(i,s,a),C(i,r,a)},p(i,a){a[0]&16777216&&n!==(n=i[24]+"")&&X(l,n),a[0]&33554432&&o!==(o=i[25]+"")&&X(r,o)},d(i){i&&M(t),i&&M(l),i&&M(s),i&&M(r)}}}function ks(e){let t,n,l;return n=new hs({props:{type:"talents",index:e[23]}}),{c(){t=v("div"),H(n.$$.fragment),y(t,"slot","after")},m(s,o){C(s,t,o),z(n,t,null),l=!0},p(s,o){const r={};o[0]&4&&(r.index=s[23]),n.$set(r)},i(s){l||(D(n.$$.fragment,s),l=!0)},o(s){B(n.$$.fragment,s),l=!1},d(s){s&&M(t),F(n)}}}function Wt(e,t){let n,l,s;return l=new Te({props:{type:"talents",index:t[23],$$slots:{after:[ks],default:[ys,({from:o,to:r})=>({24:o,25:r}),({from:o,to:r})=>[(o?16777216:0)|(r?33554432:0)]]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=hn(),H(l.$$.fragment),this.first=n},m(o,r){C(o,n,r),z(l,o,r),s=!0},p(o,r){t=o;const i={};r[0]&4&&(i.index=t[23]),r[0]&50331652|r[1]&1&&(i.$$scope={dirty:r,ctx:t}),l.$set(i)},i(o){s||(D(l.$$.fragment,o),s=!0)},o(o){B(l.$$.fragment,o),s=!1},d(o){o&&M(n),F(l,o)}}}function Xt(e){let t,n;function l(){return e[11](e[14])}return t=new Fe({props:{type:"talents",drop:e[14]}}),t.$on("click",l),{c(){H(t.$$.fragment)},m(s,o){z(t,s,o),n=!0},p(s,o){e=s},i(s){n||(D(t.$$.fragment,s),n=!0)},o(s){B(t.$$.fragment,s),n=!1},d(s){F(t,s)}}}function Yt(e){let t,n;function l(){return e[12](e[14])}return t=new Fe({props:{type:"weaponAscension5",drop:e[14]}}),t.$on("click",l),{c(){H(t.$$.fragment)},m(s,o){z(t,s,o),n=!0},p(s,o){e=s},i(s){n||(D(t.$$.fragment,s),n=!0)},o(s){B(t.$$.fragment,s),n=!1},d(s){F(t,s)}}}function xt(e){let t,n;function l(){return e[13](e[14])}return t=new Fe({props:{type:"weaponAscension4",drop:e[14]}}),t.$on("click",l),{c(){H(t.$$.fragment)},m(s,o){z(t,s,o),n=!0},p(s,o){e=s},i(s){n||(D(t.$$.fragment,s),n=!0)},o(s){B(t.$$.fragment,s),n=!1},d(s){F(t,s)}}}function Ds(e){let t,n,l,s,o,r,i,a,c,O,$,m,b,p,w,h,g,k,q,J,x,A,P,Q,U,le,He,at,he,ct,Be,ft,ge,Je,_t,me,pt,W=[],dt=new Map,Ue,Me,ht,Ze,gt,be,mt,Ce,bt,Ve,vt,ve,$t,Re,wt,$e,Ne,oe=nt,L=[];for(let u=0;u<oe.length;u+=1)L[u]=Vt(Zt(e,oe,u));const ln=u=>B(L[u],1,1,()=>{L[u]=null});a=new Xe({props:{$$slots:{default:[vs]},$$scope:{ctx:e}}}),a.$on("click",e[7]),$=new Xe({props:{$$slots:{default:[$s]},$$scope:{ctx:e}}}),$.$on("click",e[5]),p=new Xe({props:{$$slots:{default:[ws]},$$scope:{ctx:e}}}),p.$on("click",e[6]),J=new Gn({}),he=new Te({props:{type:"characterAscension"}});let re=Object.keys(j.characterAscension.drops),N=[];for(let u=0;u<re.length;u+=1)N[u]=Qt(Ut(e,re,u));const on=u=>B(N[u],1,1,()=>{N[u]=null});me=new bs({props:{type:"talents"}});let je=e[2].talents.rangeGroups;const yt=u=>u[21].id;for(let u=0;u<je.length;u+=1){let d=Jt(e,je,u),E=yt(d);dt.set(E,W[u]=Wt(E,d))}let ie=Object.keys(j.talents.drops),G=[];for(let u=0;u<ie.length;u+=1)G[u]=Xt(Ht(e,ie,u));const rn=u=>B(G[u],1,1,()=>{G[u]=null});be=new Te({props:{type:"weaponAscension5"}});let ue=Object.keys(j.weaponAscension5.drops),I=[];for(let u=0;u<ue.length;u+=1)I[u]=Yt(Ft(e,ue,u));const un=u=>B(I[u],1,1,()=>{I[u]=null});ve=new Te({props:{type:"weaponAscension4"}});let ae=Object.keys(j.weaponAscension4.drops),T=[];for(let u=0;u<ae.length;u+=1)T[u]=xt(zt(e,ae,u));const an=u=>B(T[u],1,1,()=>{T[u]=null});return $e=new Cn({}),{c(){t=v("main"),n=v("table"),l=v("tr"),l.innerHTML=`<th></th> 
      <th>Have</th> 
      <th>Need</th>`,s=S();for(let u=0;u<L.length;u+=1)L[u].c();o=S(),r=v("tr"),i=v("td"),H(a.$$.fragment),c=S(),O=v("td"),H($.$$.fragment),m=S(),b=v("td"),H(p.$$.fragment),w=S(),h=v("tr"),g=v("th"),g.textContent="Progress",k=S(),q=v("td"),H(J.$$.fragment),x=S(),A=v("section"),P=v("h2"),P.textContent="Presets",Q=S(),U=v("div"),U.innerHTML=`<p>Use the sliders to select From and To, then click one of the buttons to
        apply the preset. Applying a preset will overwrite any existing value in
        the Need column.</p> 
      <p>If a preset is selected, the simplified value (under the progress bar)
        will be calculated based only on the available rarities of your selected
        preset (with the lowest rarity taking a value of 1, then 3, then 9,
        etc.). Also, input boxes for rarities that are impossible to obtain for
        the selected preset will be disabled.</p> 
      <p>To clear the preset and re-enable all inputs, click the &quot;Full Reset&quot;
        button.</p>`,le=S(),He=v("h4"),He.textContent="Character ascension",at=S(),H(he.$$.fragment),ct=S(),Be=v("div");for(let u=0;u<N.length;u+=1)N[u].c();ft=S(),ge=v("div"),Je=v("h4"),Je.textContent="Talents",_t=S(),H(me.$$.fragment),pt=S();for(let u=0;u<W.length;u+=1)W[u].c();Ue=S(),Me=v("div");for(let u=0;u<G.length;u+=1)G[u].c();ht=S(),Ze=v("h4"),Ze.textContent="5★ weapon ascension",gt=S(),H(be.$$.fragment),mt=S(),Ce=v("div");for(let u=0;u<I.length;u+=1)I[u].c();bt=S(),Ve=v("h4"),Ve.textContent="4★ weapon ascension",vt=S(),H(ve.$$.fragment),$t=S(),Re=v("div");for(let u=0;u<T.length;u+=1)T[u].c();wt=S(),H($e.$$.fragment),y(q,"colspan","2"),y(U,"class","explanation"),y(Be,"class","button-group"),y(ge,"class","talents-heading"),y(Me,"class","button-group"),y(Ce,"class","button-group"),y(Re,"class","button-group"),y(A,"class","presets-section")},m(u,d){C(u,t,d),f(t,n),f(n,l),f(n,s);for(let E=0;E<L.length;E+=1)L[E]&&L[E].m(n,null);f(n,o),f(n,r),f(r,i),z(a,i,null),f(r,c),f(r,O),z($,O,null),f(r,m),f(r,b),z(p,b,null),f(n,w),f(n,h),f(h,g),f(h,k),f(h,q),z(J,q,null),f(t,x),f(t,A),f(A,P),f(A,Q),f(A,U),f(A,le),f(A,He),f(A,at),z(he,A,null),f(A,ct),f(A,Be);for(let E=0;E<N.length;E+=1)N[E]&&N[E].m(Be,null);f(A,ft),f(A,ge),f(ge,Je),f(ge,_t),z(me,ge,null),f(A,pt);for(let E=0;E<W.length;E+=1)W[E]&&W[E].m(A,null);f(A,Ue),f(A,Me);for(let E=0;E<G.length;E+=1)G[E]&&G[E].m(Me,null);f(A,ht),f(A,Ze),f(A,gt),z(be,A,null),f(A,mt),f(A,Ce);for(let E=0;E<I.length;E+=1)I[E]&&I[E].m(Ce,null);f(A,bt),f(A,Ve),f(A,vt),z(ve,A,null),f(A,$t),f(A,Re);for(let E=0;E<T.length;E+=1)T[E]&&T[E].m(Re,null);f(t,wt),z($e,t,null),Ne=!0},p(u,d){if(d[0]&11){oe=nt;let _;for(_=0;_<oe.length;_+=1){const Z=Zt(u,oe,_);L[_]?(L[_].p(Z,d),D(L[_],1)):(L[_]=Vt(Z),L[_].c(),D(L[_],1),L[_].m(n,o))}for(ce(),_=oe.length;_<L.length;_+=1)ln(_);fe()}const E={};d[1]&1&&(E.$$scope={dirty:d,ctx:u}),a.$set(E);const kt={};d[1]&1&&(kt.$$scope={dirty:d,ctx:u}),$.$set(kt);const Dt={};if(d[1]&1&&(Dt.$$scope={dirty:d,ctx:u}),p.$set(Dt),d[0]&16){re=Object.keys(j.characterAscension.drops);let _;for(_=0;_<re.length;_+=1){const Z=Ut(u,re,_);N[_]?(N[_].p(Z,d),D(N[_],1)):(N[_]=Qt(Z),N[_].c(),D(N[_],1),N[_].m(Be,null))}for(ce(),_=re.length;_<N.length;_+=1)on(_);fe()}if(d[0]&50331652&&(je=u[2].talents.rangeGroups,ce(),W=kn(W,d,yt,1,u,je,dt,A,yn,Wt,Ue,Jt),fe()),d[0]&16){ie=Object.keys(j.talents.drops);let _;for(_=0;_<ie.length;_+=1){const Z=Ht(u,ie,_);G[_]?(G[_].p(Z,d),D(G[_],1)):(G[_]=Xt(Z),G[_].c(),D(G[_],1),G[_].m(Me,null))}for(ce(),_=ie.length;_<G.length;_+=1)rn(_);fe()}if(d[0]&16){ue=Object.keys(j.weaponAscension5.drops);let _;for(_=0;_<ue.length;_+=1){const Z=Ft(u,ue,_);I[_]?(I[_].p(Z,d),D(I[_],1)):(I[_]=Yt(Z),I[_].c(),D(I[_],1),I[_].m(Ce,null))}for(ce(),_=ue.length;_<I.length;_+=1)un(_);fe()}if(d[0]&16){ae=Object.keys(j.weaponAscension4.drops);let _;for(_=0;_<ae.length;_+=1){const Z=zt(u,ae,_);T[_]?(T[_].p(Z,d),D(T[_],1)):(T[_]=xt(Z),T[_].c(),D(T[_],1),T[_].m(Re,null))}for(ce(),_=ae.length;_<T.length;_+=1)an(_);fe()}},i(u){if(!Ne){for(let d=0;d<oe.length;d+=1)D(L[d]);D(a.$$.fragment,u),D($.$$.fragment,u),D(p.$$.fragment,u),D(J.$$.fragment,u),D(he.$$.fragment,u);for(let d=0;d<re.length;d+=1)D(N[d]);D(me.$$.fragment,u);for(let d=0;d<je.length;d+=1)D(W[d]);for(let d=0;d<ie.length;d+=1)D(G[d]);D(be.$$.fragment,u);for(let d=0;d<ue.length;d+=1)D(I[d]);D(ve.$$.fragment,u);for(let d=0;d<ae.length;d+=1)D(T[d]);D($e.$$.fragment,u),Ne=!0}},o(u){L=L.filter(Boolean);for(let d=0;d<L.length;d+=1)B(L[d]);B(a.$$.fragment,u),B($.$$.fragment,u),B(p.$$.fragment,u),B(J.$$.fragment,u),B(he.$$.fragment,u),N=N.filter(Boolean);for(let d=0;d<N.length;d+=1)B(N[d]);B(me.$$.fragment,u);for(let d=0;d<W.length;d+=1)B(W[d]);G=G.filter(Boolean);for(let d=0;d<G.length;d+=1)B(G[d]);B(be.$$.fragment,u),I=I.filter(Boolean);for(let d=0;d<I.length;d+=1)B(I[d]);B(ve.$$.fragment,u),T=T.filter(Boolean);for(let d=0;d<T.length;d+=1)B(T[d]);B($e.$$.fragment,u),Ne=!1},d(u){u&&M(t),_e(L,u),F(a),F($),F(p),F(J),F(he),_e(N,u),F(me);for(let d=0;d<W.length;d+=1)W[d].d();_e(G,u),F(be),_e(I,u),F(ve),_e(T,u),F($e)}}}function Os(e,t,n){let l,s,o,r;ee(e,Oe,g=>n(0,l=g)),ee(e,Le,g=>n(1,s=g)),ee(e,de,g=>n(2,o=g)),ee(e,Se,g=>n(3,r=g));for(let g in j)de.updateDrops(g);const i=(g,k)=>{const q=o[g].drops[k];Le.set({five:q.five===null,four:q.four===null,three:q.three===null,two:q.two===null,one:q.one===null}),Se.set({...q}),["five","four","three","two","one"].forEach(J=>{s[J]&&dn(Oe,l[J]=0,l)}),window.scrollTo({top:0,behavior:"smooth"})},a=()=>{Oe.set({five:null,four:null,three:null,two:null,one:null})},c=()=>{Se.set({five:null,four:null,three:null,two:null,one:null})},O=()=>{localStorage.clear(),a(),c(),Le.set({five:!1,four:!1,three:!1,two:!1,one:!1})};function $(g,k){e.$$.not_equal(l[k.name],g)&&(l[k.name]=g,Oe.set(l))}function m(g,k){e.$$.not_equal(r[k.name],g)&&(r[k.name]=g,Se.set(r))}return[l,s,o,r,i,a,c,O,$,m,g=>i("characterAscension",g),g=>i("talents",g),g=>i("weaponAscension5",g),g=>i("weaponAscension4",g)]}class Ss extends ne{constructor(t){super(),te(this,t,Os,Ds,Y,{},null,[-1,-1])}}new Ss({target:document.getElementById("app")});
